@keyframes bangumi-header
  from
    scale 1.1
    opacity 0
.page-bangumi
  padding 0
  &>*
    margin-bottom 16px

.bangumi-error
  height 100%
  display flex
  flex-direction column
  justify-content center
  align-items center
.bangumi-error-title
  font-size 32px

.bangumi-headers
  height 90vh
  overflow hidden
  position relative
  margin-bottom -128px
  &:after
    content ''
    display block
    position absolute
    left 0
    bottom 0
    width 100%
    height calc(256px + var(--h, 0px) * 2)
    background linear-gradient(rgba(0,0,0,0), var(--bg))
.bangumi-header
  position absolute
  top calc(var(--h) / 2)
  left 0
  height 100%
  width 100%
  object-fit cover
  display none
  animation bangumi-header 1s

.bangumi-info
  position relative
  display flex
  gap 32px
.bangumi-covers
  width 300px
  height 400px
  flex 0 0 auto
  position relative
  border-radius 6px
  overflow hidden
.bangumi-cover
  width 100%
  height 100%
  object-fit cover
  position absolute
  top 0
  left 0
  display none
.bangumi-detail
  display flex
  flex-direction column
  gap 16px
.bangumi-title
  font-size 40px
.bangumi-cates
.bangumi-tags
  display flex
  align-items center
  gap 16px
.bangumi-evaluation
  display flex
  gap 16px
.bangumi-rate
  display flex
  gap 2px
.bangumi-progresses
  width 300px
.bangumi-progress
  display none
.bangumi-progress-info
  display flex
  justify-content space-between
.bangumi-progress-determinate
  height 1px
  background #888
  position relative
  margin 4px 0
  &:before
    content ''
    display block
    position absolute
    left 0
    top -1px
    width var(--p)
    height 3px
    background var(--theme)
    border-radius 3px
.bangumi-links
  display none
  flex-wrap wrap
  gap 16px

.bangumi-header-current
.bangumi-cover-current
.bangumi-progress-current
.bangumi-links-current
  display block
  transition .2s opacity
.bangumi-links-current
  display flex

.bangumi-seasons
  display flex
  flex-wrap wrap
  gap 8px
.bangumi-season
  padding 6px 8px
  border-radius 6px
  height 36px
  transition .1s background, .1s color
  &:not(.bangumi-season-current)
    &:hover
      background var(--btn-bg-hover)
    &:active
      background var(--btn-bg-active)
      color var(--btn-color-active)
  &:empty:first-child:last-child
    display none
.bangumi-season-current
  background var(--theme)

.bangumi-content
  background var(--bg3)
  border-radius 6px
  padding 16px 22px
  &:empty
    display none

.bangumi-switching
  .bangumi-header-current
  .bangumi-cover-current
  .bangumi-progress-current
  .bangumi-links-current
    opacity 0
